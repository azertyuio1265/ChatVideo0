<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
   
    <title> Omegle Clone </title>
    
    
    <style>
     <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f5f5f5;
        }

        #header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            background-color: #fff;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        #header h1 {
            margin: 0;
        }

        #videoContainer {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 80vh;
        }

        #localVideo, #remoteVideo {
            position: relative;
            width: 50vw;
            max-width: 500px;
            height: calc(74vw * 0.47); /* 4:3 aspect ratio */
            max-height: 600px;
            margin: 0 45px;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 0 15px rgba(0, 1, 9, 8.2);
        }

        video {
            width: 40%;
            height: 40%;
            object-fit: cover;
        }

        #videoControls {
            display: flex;
            justify-content: space-between;
            padding: 15px;
        }

        button {
            padding: 10px; /* Enlarged padding for icons */
            font-size: 45px; /* Enlarged font size for icons */
            border: none;
            border-radius: 50%;
            cursor: pointer;
        }

        #startButton {
            background-color: #4CAF50; /* Green color for start button */
            color: #fff;
        }

        #stopButton {
            background-color: #ff6347; /* Red color for stop button */
            color: #fff;
        }

        #skipButton {
            background-color: #6495ed; /* Cornflower blue color for skip button */
            color: #fff;
        }
    </style>
   
</head>
<body>
<div>  <h1> Chat Random â¤ï¸ ğŸ˜‚ ğŸ˜ ğŸ˜Š <div>  

    
    <div id="videoContainer">
        <video id="localVideo" autoplay muted></video>
        <video id="remoteVideo" autoplay></video>
    </div>

    <div id="videoControls">
        
           
    <button id="startButton">Start chat</button>
       
        <button id="stopButton">Stop</button>
      
        <button id="skipButton">Skip</button>
    </div>

    <!-- Chat messages and controls here -->

    <script>

        window.onload = function() {
        let localStream;
        let remoteStream;
        let localPeerConnection;
        let remotePeerConnection;

        const startButton = document.getElementById('startButton');
        const stopButton = document.getElementById('stopButton');
        const skipButton = document.getElementById('skipButton');
        const localVideo = document.getElementById('localVideo');
        const remoteVideo = document.getElementById('remoteVideo');

        startButton.addEventListener('click', startBroadcast);
        stopButton.addEventListener('click', stopBroadcast);
        skipButton.addEventListener('click', skipRemoteVideo);

        async function startBroadcast() {
            try {
                localStream = await navigator.mediaDevices.getUserMedia({ video: true, audio: true });
                localVideo.srcObject = localStream;

                const configuration = { iceServers: [{ urls: 'stun:stun.l.google.com:19302' }] };
                localPeerConnection = new RTCPeerConnection(configuration);
                localStream.getTracks().forEach(track => localPeerConnection.addTrack(track, localStream));
                localPeerConnection.onicecandidate = event => {
                    if (event.candidate) {
                        remotePeerConnection.addIceCandidate(event.candidate);
                    }
                };

                remotePeerConnection = new RTCPeerConnection(configuration);
                remotePeerConnection.ontrack = event => {
                    remoteVideo.srcObject = event.streams[0];
                    remoteStream = event.streams[0];
                };
                remotePeerConnection.onicecandidate = event => {
                    if (event.candidate) {
                        localPeerConnection.addIceCandidate(event.candidate);
                    }
                };

                const offer = await localPeerConnection.createOffer();
                await localPeerConnection.setLocalDescription(offer);
                await remotePeerConnection.setRemoteDescription(offer);

                const answer = await remotePeerConnection.createAnswer();
                await remotePeerConnection.setLocalDescription(answer);
                await localPeerConnection.setRemoteDescription(answer);
            } catch (error) {
                console.error('Error starting broadcast:', error);
            }
        }

        function stopBroadcast() {
            if (localStream) {
                localStream.getTracks().forEach(track => track.stop());
                localStream = null;
            }
            if (remoteStream) {
                remoteStream.getTracks().forEach(track => track.stop());
                remoteStream = null;
            }
            localVideo.srcObject = null;
            remoteVideo.srcObject = null;
            if (localPeerConnection) {
                localPeerConnection.close();
                localPeerConnection = null;
            }
            if (remotePeerConnection) {
                remotePeerConnection.close();
                remotePeerConnection = null;
            }
        }

        function skipRemoteVideo() {
            remoteVideo.srcObject = null;

            if (remotePeerConnection) {
                remotePeerConnection.close();
                remotePeerConnection = null;
            }

            startRandomConnection();
        }

     function generateRandomUserId() {
            return Math.random().toString(36).substr(2, 9);
        }

        function startRandomConnection() {
            const randomUserId = generateRandomUserId();
            const remoteUserId = generateRandomUserId();

            console.log('Starting connection between users:');
            console.log('Local User ID:', randomUserId);
            console.log('Remote User ID:', remoteUserId);
        }
    };
        
     // ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ù…Ø¹Ø±Ù Ø§Ù„ÙØ±ÙŠØ¯
function generateUniqueId() {
    return Date.now().toString() + Math.floor(Math.random() * 1000).toString();
}

// ÙŠØªÙ… Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ù‡Ø°Ù‡ Ø§Ù„Ø¯Ø§Ù„Ø© Ø¹Ù†Ø¯ Ù…Ù†Ø­ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¥Ø°Ù† Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ ÙˆØ§Ù„Ù…ÙŠÙƒØ±ÙˆÙÙˆÙ†
async function onUserMediaPermissionGranted() {
    const uniqueId = generateUniqueId(); // ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ù…Ø¹Ø±Ù Ø§Ù„ÙØ±ÙŠØ¯
    localStorage.setItem('userId', uniqueId); // ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø¹Ø±Ù ÙÙŠ localStorage
    
    // Ø¨Ø¹Ø¯ Ø°Ù„ÙƒØŒ ÙŠÙ…ÙƒÙ†Ùƒ ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¥Ù„Ù‰ ØµÙØ­Ø© Ø§Ù„Ø¯Ø±Ø¯Ø´Ø© Ø£Ùˆ ØªØ´ØºÙŠÙ„ Ø§Ù„Ù„ÙˆØ¬ÙŠÙƒØ§ Ø§Ù„Ù„Ø§Ø²Ù…Ø© Ù„Ø¨Ø¯Ø¡ Ø§Ù„Ø§ØªØµØ§Ù„
    // ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ø±Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¥Ù„Ù‰ Ø¹Ù†ÙˆØ§Ù† URL Ù„ØªÙ…ÙƒÙŠÙ† ØªÙƒÙˆÙŠÙ† Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨ÙŠÙ† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
}

// Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø²Ø± Ø§Ù„Ø¨Ø¯Ø¡
document.getElementById('startButton').addEventListener('click', async function() {
    try {
        // Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ø·Ù„Ø¨ Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ ÙˆØ§Ù„Ù…ÙŠÙƒØ±ÙˆÙÙˆÙ†
        await navigator.mediaDevices.getUserMedia({ video: true, audio: true });
        // Ø¥Ø°Ø§ ØªÙ…Øª Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ø§Ù„ÙˆØµÙˆÙ„ØŒ ÙŠØªÙ… Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ø§Ù„Ø¯Ø§Ù„Ø© onUserMediaPermissionGranted
        onUserMediaPermissionGranted();
    } catch (error) {
        console.error('Error accessing camera and microphone:', error);
    }
});


    </script>

<div>                              

<h1> advertise </h1>






</div>
  